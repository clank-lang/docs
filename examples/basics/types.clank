// Basic Types
// Demonstrates: type aliases, records, sum types, refinements

// Type alias
Ï„ Name = ð•Š

// Refinement type â€” positive integers only
Ï„ PositiveInt = â„¤{self > 0}

// Refinement with range
Ï„ Percentage = â„{self â‰¥ 0.0 âˆ§ self â‰¤ 100.0}

// Non-empty string
Ï„ NonEmptyString = ð•Š{len(self) > 0}

// Record type
rec Point {
  x: â„¤,
  y: â„¤
}

// Record with refined fields
rec User {
  id: PositiveInt,
  name: NonEmptyString,
  age: â„•{self â‰¤ 150}
}

// Sum type (tagged union)
sum Option[T] {
  Some(T),
  None
}

// Sum type with multiple variants
sum Shape {
  Circle(Point, â„•),           // center, radius
  Rectangle(Point, Point),     // top-left, bottom-right
  Triangle(Point, Point, Point)
}

// Function using refined types
Æ’ safe_divide(n: â„¤, d: PositiveInt) â†’ â„¤ {
  n Ã· d  // Cannot divide by zero â€” d is guaranteed > 0
}

Æ’ main() â†’ IO[()] {
  let p = Point { x: 10, y: 20 }
  let u = User { id: 1, name: "Alice", age: 30 }

  println("Point: (" ++ str(p.x) ++ ", " ++ str(p.y) ++ ")")
  println("User: " ++ u.name)
}
